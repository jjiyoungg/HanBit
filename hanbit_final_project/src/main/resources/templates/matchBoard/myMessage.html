<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/match_layout}">
<!--/* 위 선언은 타임리프 레이아웃을 사용하기 위한 설정   */-->
<head>
<title>한빛</title>
</head>
<!--================Start layout Area =================-->
<div layout:fragment="content">
<div style="float: left; margin-left: 90px;">
	<span style="font-size: 20px; float: left;">받은 쪽지함</span>
	<!-- <form th:action="myMessage">
<button>받은쪽지</button>
</form> -->
	<form th:action="myMessage2" style="float: left;">
		<button class="btn btn-outline-success" style="margin-top: -5px; margin-left: 8px;">보낸쪽지함 보기</button>
	</form>
	</div>
	<!-- <button type="button" id="messageCategory1">쪽지조회</button> -->
	<br><br>
	<table class="table" style="width: 1100px; word-break:break-all; text-align: center; margin-left: 90px;">
		<thead>
			<tr>
				<th>보낸사람</th>
				<th style="text-align: left;">내용</th>
				<th>날짜</th>
				<th>읽음여부</th>
			</tr>
		</thead>
		<tbody id="messageTbody">
			<tr th:each="ms:${messageList}">
				<td th:text="${ms.sendId}"></td>
				<td width="40%" style="text-align: left;"><a class="line" style="color: #676766;"
					th:href="@{/messageDetail(receiveId= ${ms.sendId}, content=${ms.content},messageNo=${ms.messageNo})}"
					th:text="${ms.content}"></a></td>
				<!-- <td> <a th:href="@{/messageDetail?receiveId=} + ${ms.sendId}" th:text="${ms.content}"></a></td> -->

				<td th:text="${ms.timePosted}"></td>

               
				<th:block th:if="${ms.checking == 1}">
					<td>읽음!</td>
				</th:block>

					<th:block th:if="${ms.checking == 0}">
					<td>안읽음!!!</td>
					
					</th:block>

			</tr>
		</tbody>
	</table>

	<br>
	<!-- <script type="text/javascript">
		$(function(){
			$("#searchList").click(function() {				
				let location=$("#loc").val();
				let gender=$("#gen").val();
				let workType=$("#wtype").val();
				$.ajax({
					type:"get",
					url:"findMatchListBylgw",
					//dataType:"json", // 문자열 응답이나 thymeleaf ajax 응답시에는 html요소로 응답받기 때문에  dataType=json을 명시하지 않는다
					data:"memberVO.location="+location+"&memberVO.gender="+gender +"&memberVO.workType="+workType,
					success:function(list){						
						$("#matchTbody").replaceWith(list);//replaceWith
					}
				});//ajax
			});//click
		});//ready
	</script> -->


</div>

<!--================End layout Area =================-->